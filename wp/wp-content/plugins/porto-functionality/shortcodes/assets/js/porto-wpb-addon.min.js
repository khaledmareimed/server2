!function(e){e(document).ready((function(){void 0!==window.VcRowView&&(window.VcRowView.prototype.convertRowColumns=function(e){var t=vc.shortcodes,a=e.toString().split(/_/),o=t.where({parent_id:this.model.id}),i=[],r=[],n="";return _.each(a,(function(e,a){var c;"flex1"!=e&&"flexauto"!=e?(e=_.map(e.toString().split(""),(function(e,t){return parseInt(e,10)})),n=3<e.length?e[0]+""+e[1]+"/"+e[2]+e[3]:2<e.length?e[0]+"/"+e[1]+e[2]:e[0]+"/"+e[1]):(n=e.slice(0,4)+"-"+e.slice(4),e=[e.slice(0,4),e.slice(4)]),r.push(n),e=_.extend(_.isUndefined(o[a])?{}:o[a].get("params"),{width:n}),vc.storage.lock(),c=t.create({shortcode:this.getChildTag(),params:e,parent_id:this.model.id}),_.isObject(o[a])&&_.each(t.where({parent_id:o[a].id}),(function(e){vc.storage.lock(),e.save({parent_id:c.id}),vc.storage.lock(),e.trigger("change_parent_id")})),i.push(c)}),this),a.length<o.length&&_.each(o.slice(a.length),(function(e){_.each(t.where({parent_id:e.id}),(function(e){vc.storage.lock(),e.save({parent_id:_.last(i).id}),vc.storage.lock(),e.trigger("change_parent_id")}))})),_.each(o,(function(e){vc.storage.lock(),e.destroy()}),this),this.model.save(),this.setActiveLayoutButton(""+e),r}),void 0!==window.InlineShortcodeView_vc_row&&(window.InlineShortcodeView_vc_row.prototype.convertToWidthsArray=function(e){return _.map(e.split(/_/),(function(e){if("flex1"!=e&&"flexauto"!=e){var t=e.split("");return t.splice(Math.floor(e.length/2),0,"/"),t.join("")}return e.slice(0,4)+"/"+e.slice(4)}))}),void 0!==window.InlineShortcodeView_vc_column&&(window.InlineShortcodeView_vc_column.prototype.setColumnClasses=function(){var e=this.getParam("offset")||"",t=this.getParam("width")||"1/1",a=this.$el.find("> .wpb_column");if(-1==t.indexOf("flex"))this.css_class_width=this.convertSize(t),this.css_class_width!==t&&(this.css_class_width=this.css_class_width.replace(/[^\d]/g,"")),a.removeClass("vc_col-sm-"+this.css_class_width),e.match(/vc_col\-sm\-\d+/)||this.$el.addClass("vc_col-sm-"+this.css_class_width),vc.responsive_disabled&&(e=e.replace(/vc_col\-(lg|md|xs)[^\s]*/g,"")),_.isEmpty(e)||(a.removeClass(e),this.$el.addClass(e));else{if("flex/1"!=t&&"flex-1"!=t)return this.$el.addClass("wpb-flex-auto");this.$el.addClass("wpb-flex-1")}}),e("body").on("vcPanel.shown",'#vc_ui-panel-edit-element[data-vc-shortcode="porto_products"]',(function(){t(),jQuery('.wpb_el_type_autocomplete[data-vc-shortcode-param-name="orderby"] input.autocomplete_field[name="orderby"]').data("vcParamObject").updateItems=function(){this.selected_items.length?this.$input_param.val(this.getSelectedItems().join(", ")):this.$input_param.val(""),t()}})),"undefined"!=typeof vc&&vc.atts.colorpicker&&(vc.atts.colorpicker.init=function(t,a){e(".vc_color-control",a).each((function(){var t,a,o=e(this),i=o.val().replace(/\s+/g,""),r=100;i.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)&&(r=100*parseFloat(i.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1])),o.wpColorPicker({palettes:["var(--porto-primary-color)","var(--porto-secondary-color)","var(--porto-tertiary-color)","var(--porto-quaternary-color)","var(--porto-dark-color)","var(--porto-light-color)","var(--porto-primary-light-5)"],clear:function(e,o){t.val(100),a.val("100%")},change:_.debounce((function(){e(this).trigger("change")}),500)}),i=o.closest(".wp-picker-container"),e('<div class="vc_alpha-wrapper"><div class="vc_alpha-container"><label>Alpha: <output class="rangevalue">'+r+'%</output></label><input type="range" min="1" max="100" value="'+r+'" name="alpha" class="vc_alpha-field"></div></div>').appendTo(i.addClass("vc_color-picker").find(".iris-picker")),t=i.find(".vc_alpha-field"),a=i.find(".vc_alpha-container output"),t.on("change keyup",(function(){if(-1==o.val().indexOf("var(--porto-")){var e=parseFloat(t.val()),i=o.data("a8c-iris"),r=o.data("wp-wpColorPicker");a.val(t.val()+"%"),i._color._alpha=e/100,o.val(i._color.toString()),r.toggler.css({backgroundColor:o.val()})}})).val(r).trigger("change")}))}),e("body").on("vcPanel.shown",'#vc_ui-panel-edit-element[data-vc-shortcode="porto_tb_posts"]',(function(){var t=e(this),a=t.find(".wpb_vc_param_value.tax");$term=t.find(".vc_autocomplete-field .wpb_vc_param_value.terms"),$term.length&&a.length&&($param=$term.data("vc-param-object"),$param.source_data=function(){return{tax:a.val()}});var o=t.find(".vc_autocomplete-field .wpb_vc_param_value.post_ids"),i=t.find(".wpb_vc_param_value.post_type");o.length&&i.length&&($param=o.data("vc-param-object"),$param.source_data=function(){return{post_type:i.val()}})}));var a=e("#vc_ui-panel-edit-element");function o(e){var t=e.parent(".porto-wpb-gp");e.hasClass("vc_dependent-hidden")?t.addClass("vc_dependent-hidden"):t.removeClass("vc_dependent-hidden")}e("body").on("vcPanel.shown",(function(){e(this).find(".vc_shortcode-param").each((function(){var t=e(this),a=t.data("param_settings");void 0!==a&&void 0!==a.hint&&t.find(".wpb_element_label").append('<div class="porto-widget-hint"><div class="porto-widget-tooltip porto-widget-tooltip-bottom">'+a.hint+"</div></div>")})),a.on("hover mouseover",".porto-widget-hint",(function(){var t=e(this),a=e(window).scrollTop(),o=t.offset(),i=o.top-a+25,r=o.left-5;t.children().css({top:i,left:r})})),e(".vc_wrapper-param-type-porto_param_heading").each((function(){var t=e(this);if(void 0!==t.data("param_settings")&&void 0!==t.data("param_settings").with_group&&t.data("param_settings").with_group){var a=t.nextUntil(".vc_wrapper-param-type-porto_param_heading"),o=e('<div class="porto-wpb-gp"></div>'),i=e('<div class="porto-wpb-content"></div>');t.before(o),o.append(t),a.length&&(i.append(a),o.append(i))}})),a.trigger("porto_param_hd_group")})),a.on("change",".wpb_el_type_porto_param_heading",(function(){o(e(this))})),a.on("porto_param_hd_group",(function(){e(".wpb_el_type_porto_param_heading").each((function(){o(e(this))}))})),e(".vc_shortcode-link").each((function(){var t=e(this),a=t.find("i");t.find("i").remove();var o='<div class="porto-widget-text">'+t.html()+"</div>";t.html("");var i=e('<div class="porto-widget-img-wrapper"></div>');i.append(a),t.append(i),t.append(o)})),e(".porto-wpb-widget_nav").each((function(){var t=e(this),a=t.find("i");if(a.length){var o='<img loading="lazy" class="porto-widget-img" src="'+(a.currentStyle||window.getComputedStyle(a[0],!1)).backgroundImage.slice(4,-1).replace(/"/g,"")+'" >';a.replaceWith(o)}o=t.find("img");t.find("img").remove();var i="<div>"+t.html()+"</div>";t.html(""),t.append(o),t.append(i)}))}));var t=function(){if(jQuery(".orderby.autocomplete_field").length){var e=jQuery(".orderby.autocomplete_field").val();jQuery('.wpb_el_type_porto_button_group[data-vc-shortcode-param-name*="order_"]').each((function(){var t=jQuery(this),a=t.attr("data-vc-shortcode-param-name").slice(6);e.indexOf(a)>-1?t.removeClass("vc_dependent-hidden"):t.addClass("vc_dependent-hidden")}))}}}(window.jQuery);